import{aI as c,e as g,aQ as F,o as _,q as h,w as s,aR as k,aP as b,h as r,aM as f,a7 as w,aO as V,aJ as E}from"./index-17847190.js";import{u as $}from"./index-ab2a4465.js";const C=g({setup(){},data(){return{userForm:{email:"",password:""},rules:{email:[{required:!0,message:"请输入正确的电子邮箱",tirgger:"blur"},{type:"email",message:"电子邮箱格式错误",tirgger:"blur"}],password:[{required:!0,message:"请输入正确的用户密码",tirgger:"blur"},{min:8,message:"密码长度不得小于8",tirgger:"blur"}]}}},methods:{...F(k,["setToken","fillUserinfo"]),btnLogin(){const e=this,o=e.$refs.ruleFormRef;o&&(o.validate(u=>{if(u)$(e.userForm).then(l=>{if(l.success){const t=l.data.userinfo;console.log(t),e.setToken(t.token),e.fillUserinfo(t),this.$router.push("/")}else return!1}).catch(l=>{console.log(l)});else return console.log("error submit"),!1}),console.log(this.userForm))},resetForm(){this.$refs.ruleFormRef.resetFields()}}});function U(e,o,u,d,l,t){const m=w,a=V,i=E,p=b;return _(),h(p,{ref:"ruleFormRef",model:e.userForm,"status-icon":"",rules:e.rules,class:"demo-ruleForm"},{default:s(()=>[r(a,{prop:"email"},{default:s(()=>[r(m,{modelValue:e.userForm.email,"onUpdate:modelValue":o[0]||(o[0]=n=>e.userForm.email=n),autocomplete:"off",placeholder:"请输入你的邮箱","suffix-icon":"Message"},null,8,["modelValue"])]),_:1}),r(a,{prop:"password"},{default:s(()=>[r(m,{type:"password",modelValue:e.userForm.password,"onUpdate:modelValue":o[1]||(o[1]=n=>e.userForm.password=n),autocomplete:"off",placeholder:"请输入你的密码","suffix-icon":"Lock"},null,8,["modelValue"])]),_:1}),r(a,null,{default:s(()=>[r(i,{type:"primary",onClick:e.btnLogin},{default:s(()=>[f("用户登录")]),_:1},8,["onClick"]),r(i,{onClick:e.resetForm},{default:s(()=>[f("重置")]),_:1},8,["onClick"])]),_:1})]),_:1},8,["model","rules"])}const R=c(C,[["render",U]]);export{R as default};
